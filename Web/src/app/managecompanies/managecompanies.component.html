<!-- partial -->
<div class="main-panel" >
    <div class="my-container">
        <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
      </div>
    <div class="content-wrapper">
      <div class="card">
        <div class="card-body">
          <div class="row">
         <div class="col-5"> <h5 class="card-title" style="color:#131e42">Manage Companies:&nbsp;{{length}}</h5></div>
        <div class="col-3"> <button (click)="createCompany()" type="button" class="btn  block">
          <img src="assets/icons/Create Companies.svg" style="height: 18px;">   Create Company</button></div>
         

        
          </div>
          <div class="row">
            <div class="col-12 table-responsive">
              <table id="mydatatable" class="table table-striped">
                <thead style="background: #87ceeb;box-shadow: 1px 1px 1px 1px #cccccc;">
                    <tr >
                        <th >CompanyId</th>
                        <th >Company Name</th>
                        <th >Email-ID</th>
                        <th >Phone</th>
                        <th >Contact Person</th> 
                        <th >Manage Company</th>
                       </tr>
                </thead>
                <tbody *ngIf="companies">
                    <tr *ngFor="let myList of companies; let i = index" [attr.data-index]="i" >
                        <td >{{myList.companyId}}</td>
                         <td ><a (click)="showCompany(myList)" 
                            style="background: transparent;cursor: pointer;"  data-toggle="modal" data-target="#myModal2">
                           {{myList.companyName}}</a></td>
                         <td >{{myList.email}}</td>
                         <td >{{myList.contactPhone}}</td>
                         <td >{{myList.contactPersonName}}</td>
                         <td >
                          <button (click)="updateCompany(myList.companyId)" type="button" 
                          class="btn btn-primary block" > <img src="assets/icons/Update.svg" 
                          style="height: 14px;margin-left: -10px">Update</button>
                          
                             <button  type="button" 
                           class="btn btn-danger block" (click)="delete(myList)" data-toggle="modal"
                            data-target="#myModal1" >
                            <img src="assets/icons/Delete 2.svg" 
                          style="height: 14px;margin-left: -10px"> Delete</button>
                             <button (click) = "integration(myList.companyId,myList.companyName)" 
                             type="button" class="btn btn-success block"><img src="assets/icons/Integration.svg" 
                             style="height: 14px;margin-left: -14px">Integration</button>
                         </td>
                     </tr>
                 </tbody>
               </table>
             </div>
            <div>
          </div>
        </div>
      </div>
    </div>
  </div>
    <!-- content-wrapper ends -->
    
  </div>

<!-- Modal Window1 start-->
    <div class="modal" id="myModal1">
     <div class="modal-dialog">
       <div class="modal-content">
       
         
         <div class="modal-header" >
           <h4 class="modal-title">Confirm Delete?</h4>
           <button type="button" class="close" data-dismiss="modal">&times;</button>
         </div>
         
      
         <div class="modal-body">
          <div *ngIf="dCompany">
             <h5>CompanyId:{{dCompany.companyId}}</h5>
           <h5>Company Name:{{dCompany.companyName}}</h5>
           <h5>Email:{{dCompany.email}}</h5>
           <h5>Contact Phone:{{dCompany.contactPhone}}</h5>
           <h5>Contact Person Name:{{dCompany.contactPersonName}}</h5>
          
         </div>
         <div class="row">
            <div class="col-sm-6"> <button type="button" class="btn btn-danger" data-dismiss="modal" 
              (click)="confirmDelete()">Confirm Delete</button></div>
          <div class="col-sm-6">  <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button></div>
          </div>
          
         </div>
          
         <div class="modal-footer row">
          
         </div>
         
       </div>
     </div>
   </div> <!-- Modal Window End -->


    <!-- Modal Window 2 start-->
    <div class="modal" id="myModal2" >
        <div class="modal-dialog">
          <div class="modal-content">
          
          
            <div class="modal-header" style="background-color: #d4edf2;">
              <h4 class="modal-title">Details of Company</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            
            
            <div class="modal-body">
             <div *ngIf="sCompany">
              <h5>CompanyId: &nbsp;{{sCompany.companyId}}</h5>
              <h5>Company Name: &nbsp;{{sCompany.companyName}}</h5>
              <h5>Email: &nbsp;{{sCompany.email}}</h5>
              <h5>Phone: &nbsp;{{sCompany.phone}}</h5>
              
              <h5>Contact Person Name: &nbsp;{{sCompany.contactPersonName}}</h5>
              <h5>Contact Phone: &nbsp;{{sCompany.contactPhone}}</h5>
              <h5>City: &nbsp;{{sCompany.city}}</h5>
              <h5>State: &nbsp;{{sCompany.state}}</h5>
              <h5>Country: &nbsp;{{sCompany.country}}</h5>
              <h5>Contact Email: &nbsp;{{sCompany.contactEmail}}</h5>
              <h5>AcivatedTill: &nbsp;{{sCompany.activatedTill}}</h5>
              <h5>Is Activated: &nbsp;{{sCompany.isActivated}}</h5>
              <h5>Company Type: &nbsp;{{sCompany.companyType}}</h5>
              <h5>Logo Path: &nbsp;{{sCompany.logopath}}</h5>
             
            </div>
            
          
            <div class="modal-footer row">
                <div>  <button type="button" class="btn btn-primary" style="width:100%;" data-dismiss="modal">Close</button></div>
              </div>
            </div>
            
          </div>
        </div>
</div>

